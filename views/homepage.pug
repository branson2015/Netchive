mixin traverse(root)
  li
    p= root.name
      each directory in root.files
        ul
          if directory.files
            +traverse(directory)
          else
            li
              p= directory.name



doctype html  
html(lang='en')  
  head
    title= title

  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous")
  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous")
  script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous")

  script
    |console.log(!{JSON.stringify(directories)})
  body  

    form(action='/', method='POST')
      div.form-group 
        label(for='add') Add
        input.form-control(type='text', id='add', name='add', placeholder='URL:')
      div.form-group
        label(for='r') Recursively
        input.form-control(type='checkbox', id='r', name='r')
      div.form-group
        label(for='submit')
        input.form-control(type='submit', id='submit', name='submit')


    ul
      +traverse(directories)

